<template name="edit">
  <div class="recipe-form recipe-details" id="{{_id}}" data-created="{{createdAt}}">
    <input class="recipe-title full-input" type="text" value="{{title}}">
    <textarea class="recipe-directions full-input" value="{{directions}}"></textarea>
    {{#if hasIngredients}}
      {{#each ingredients}}
      {{> recipeIngredientInput}}
      {{/each}}
    {{else}}
      <div class="recipe-ingredient">
        <input class="full-input" type="text" placeholder="{{_ 'ingredient' }}">
        <button class="remove-ingredient">&times;</button>
      </div>
    {{/if}}
    <button class="btn-full new-ingredient"><span class="fa fa-plus"> {{_ 'new-ingredient' }}</span></button>
  </div>
</template>

<template name="recipeIngredientInput">
  <div class="recipe-ingredient removable">
    <input class="full-input" type="text" placeholder="{{_ 'ingredient' }}" value="{{name}}">
    <button class="remove-ingredient">&times;</button>
  </div>
</template>

<template name="editMenu">
  <nav class="dashboard">
    <a class="btn cancel" title="{{_ 'cancel' }}" href="/recipe/{{_id}}"><span class="fa fa-arrow-left"></span></a>
    {{#if isOwner}}
    <a class="btn remove-recipe" title="{{_ 'remove-recipe' }}" href="/"><span class="fa fa-trash"></span></a>
    <a class="btn save-recipe" title="{{_ 'save-recipe' }}" href="/recipe/{{_id}}/edit/image"><span class="fa fa-arrow-right"></span></a>
    {{else}}
    <a class="btn search-recipe" title="{{_ 'search-recipe' }}" href="/search"><span class="fa fa-search"></span></a>
    <a class="btn add-recipe" title="{{_ 'add-recipe' }}" href="/add-item"><span class="fa fa-plus"></span></a>
    {{/if}}
  </nav>
</template>

<template name="editImg">
  <div class="recipe-image" id="{{_id}}">
    <input class="recipe-image-file sr-only" type="file">
    {{#if recipeImg.isUploaded}}
      <img src="{{recipeImg.url}}" alt="{{title}}">
    {{else}}
      <span class="fa fa-refresh fa-spin fa-3x"></span>
    {{/if}}
  </div>
  <button class="btn-full recipe-image-button">{{_ 'change' }}</button>
</template>

<template name="editImgMenu">
  <nav class="dashboard">
    <a class="btn cancel" title="{{_ 'cancel' }}" href="/recipe/{{_id}}/edit"><span class="fa fa-arrow-left"></span></a>
    {{#if isOwner}}
    <a class="btn remove-recipe" title="{{_ 'remove-recipe' }}" href="#"><span class="fa fa-trash"></span></a>
    <a class="btn save-recipe-image" title="{{_ 'save-recipe' }}" href="#"><span class="fa fa-check"></span></a>
    {{else}}
    <a class="btn search-recipe" title="{{_ 'search-recipe' }}" href="/search"><span class="fa fa-search"></span></a>
    <a class="btn add-recipe" title="{{_ 'add-recipe' }}" href="/add-item"><span class="fa fa-plus"></span></a>
    {{/if}}
  </nav>
</template>
